name: Keep Render Service Alive

on:
  schedule:
    # 5분마다 실행 (UTC 기준)
    - cron: '*/5 * * * *'
  workflow_dispatch: # 수동 실행도 가능

jobs:
  ping:
    runs-on: ubuntu-latest
    timeout-minutes: 2
    continue-on-error: true
    steps:
      - name: Ping Health Endpoint
        timeout-minutes: 1
        run: |
          curl -f --max-time 10 https://file-extension-blocker-pf9s.onrender.com/health || echo "Ping failed"
      - name: Log Success
        run: echo "Service pinged successfully"
