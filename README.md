<p align="center">
  <img src="frontend/public/screenshot.png" alt="íŒŒì¼í™•ì¥ìì°¨ë‹¨ì•±" width="100%" />
</p>

<h1 align="center">ğŸ›¡ï¸ File Extension Blocker</h1>
<h3 align="center">ìœ„í—˜í•œ íŒŒì¼ í™•ì¥ìë¥¼ ì°¨ë‹¨í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜</h3>

<p align="center">
  <img src="https://img.shields.io/badge/Tests-27%20passed-brightgreen?style=for-the-badge" />
  <img src="https://img.shields.io/badge/Coverage-85%25-blue?style=for-the-badge" />
  <img src="https://img.shields.io/badge/CI%2FCD-Passing-success?style=for-the-badge" />
</p>

<p align="center">
  <a href="https://blocker-dani.vercel.app">ğŸŒ Live Demo</a> â€¢
  <a href="https://file-extension-blocker-pf9s.onrender.com/api-docs">ğŸ“š API Docs</a> â€¢
  <a href="https://github.com/danikim8/file-extension-blocker">ğŸ’» GitHub</a>
</p>

---

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ì†Œê°œ](#1-í”„ë¡œì íŠ¸-ì†Œê°œ)
2. [ì£¼ìš” ê¸°ëŠ¥](#2-ì£¼ìš”-ê¸°ëŠ¥)
3. [ê¸°ìˆ  ìŠ¤íƒ](#3-ê¸°ìˆ -ìŠ¤íƒ)
4. [ì‹œì‘í•˜ê¸°](#4-ì‹œì‘í•˜ê¸°)
5. [API ì—”ë“œí¬ì¸íŠ¸](#5-api-ì—”ë“œí¬ì¸íŠ¸)
6. [í…ŒìŠ¤íŠ¸](#6-í…ŒìŠ¤íŠ¸)
7. [CI/CD](#7-cicd)
8. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#8-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
9. [í´ë” êµ¬ì¡°](#9-í´ë”-êµ¬ì¡°)

---

## 1. í”„ë¡œì íŠ¸ ì†Œê°œ

**íŒŒì¼ í™•ì¥ì ì°¨ë‹¨ ì•±**ì€ ìœ„í—˜í•œ íŒŒì¼ í™•ì¥ìë¥¼ ê´€ë¦¬í•˜ê³  ì°¨ë‹¨í•˜ì—¬ ì‹œìŠ¤í…œ ë³´ì•ˆì„ ê°•í™”í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

ì‚¬ìš©ìë³„ë¡œ ë…ë¦½ì ì¸ í™•ì¥ì ì„¤ì •ì„ ê´€ë¦¬í•˜ë©°, ì‹¤ì‹œê°„ íŒŒì¼ ê²€ì¦ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## 2. ì£¼ìš” ê¸°ëŠ¥

### ğŸ”’ ê³ ì • í™•ì¥ì ê´€ë¦¬
- 7ê°œì˜ ìœ„í—˜í•œ ê³ ì • í™•ì¥ì ì œê³µ: `bat`, `cmd`, `com`, `cpl`, `exe`, `scr`, `js`
- ì²´í¬ë°•ìŠ¤ë¡œ ê°œë³„ ì°¨ë‹¨ ì„¤ì • ë° ì¼ê´„ ì €ì¥

### â• ì»¤ìŠ¤í…€ í™•ì¥ì ê´€ë¦¬
- ìµœëŒ€ 200ê°œê¹Œì§€ ì‚¬ìš©ì ì •ì˜ í™•ì¥ì ì¶”ê°€ ê°€ëŠ¥
- ì‹¤ì‹œê°„ ì…ë ¥ ê²€ì¦ (ì˜ë¬¸ ì†Œë¬¸ì, ìˆ«ì, ì–¸ë”ìŠ¤ì½”ì–´ë§Œ í—ˆìš©, ìµœëŒ€ 20ì)
- ëŒ€ì†Œë¬¸ì ë¬´ê´€ ì¤‘ë³µ ì²´í¬

### ğŸ“¤ íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì§€ì›
- ì°¨ë‹¨ ëª©ë¡ê³¼ ì‹¤ì‹œê°„ ë¹„êµ í›„ í† ìŠ¤íŠ¸ ì•Œë¦¼

### ğŸ‘¤ ì‚¬ìš©ì ê´€ë¦¬
- LocalStorage ê¸°ë°˜ ì‚¬ìš©ì ID ìë™ ìƒì„±
- ì‚¬ìš©ìë³„ ë…ë¦½ì ì¸ í™•ì¥ì ì„¤ì •

---

## 3. ê¸°ìˆ  ìŠ¤íƒ

### Frontend
![React](https://img.shields.io/badge/React-19.2.0-61DAFB?style=for-the-badge&logo=react&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-5.7-3178C6?style=for-the-badge&logo=typescript&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-7.2.4-646CFF?style=for-the-badge&logo=vite&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/Tailwind-3.4.19-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)

### Backend
![Node.js](https://img.shields.io/badge/Node.js-22-339933?style=for-the-badge&logo=node.js&logoColor=white)
![Express](https://img.shields.io/badge/Express-5.2.1-000000?style=for-the-badge&logo=express&logoColor=white)
![Prisma](https://img.shields.io/badge/Prisma-7.2.0-2D3748?style=for-the-badge&logo=prisma&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Supabase-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![Swagger](https://img.shields.io/badge/Swagger-OpenAPI_3.0-85EA2D?style=for-the-badge&logo=swagger&logoColor=black)
![Jest](https://img.shields.io/badge/Jest-30.2.0-C21325?style=for-the-badge&logo=jest&logoColor=white)

### DevOps
![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-CI%2FCD-2088FF?style=for-the-badge&logo=github-actions&logoColor=white)
![Vercel](https://img.shields.io/badge/Vercel-Deploy-000000?style=for-the-badge&logo=vercel&logoColor=white)
![Render](https://img.shields.io/badge/Render-Deploy-46E3B7?style=for-the-badge&logo=render&logoColor=white)

---

## 4. ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js 22 ì´ìƒ
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ (Supabase ê¶Œì¥)

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/danikim8/file-extension-blocker.git
cd file-extension-blocker

# Backend ì„¤ì •
cd backend
npm install
# .env íŒŒì¼ ìƒì„± í›„ DATABASE_URL, DIRECT_URL, PORT ì„¤ì •
npx prisma migrate dev
npm run dev

# Frontend ì„¤ì • (ìƒˆ í„°ë¯¸ë„)
cd frontend
npm install
# .env íŒŒì¼ ìƒì„± í›„ VITE_API_URL ì„¤ì •
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5173 ì ‘ì†
```

---

## 5. API ì—”ë“œí¬ì¸íŠ¸

### Base URL
- **í”„ë¡œë•ì…˜**: `https://file-extension-blocker-pf9s.onrender.com`

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/health` | ì„œë²„ ìƒíƒœ í™•ì¸ |
| `GET` | `/api/extensions/fixed` | ê³ ì • í™•ì¥ì ì¡°íšŒ |
| `PUT` | `/api/extensions/fixed` | ê³ ì • í™•ì¥ì ì €ì¥ |
| `GET` | `/api/extensions/custom` | ì»¤ìŠ¤í…€ í™•ì¥ì ì¡°íšŒ |
| `POST` | `/api/extensions/custom` | ì»¤ìŠ¤í…€ í™•ì¥ì ì¶”ê°€ |
| `DELETE` | `/api/extensions/custom/:id` | ì»¤ìŠ¤í…€ í™•ì¥ì ì‚­ì œ |
| `GET` | `/api-docs` | Swagger API ë¬¸ì„œ |

ìì„¸í•œ API ìŠ¤í™ì€ [Swagger UI](https://file-extension-blocker-pf9s.onrender.com/api-docs)ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## 6. í…ŒìŠ¤íŠ¸

### âœ… 27ê°œ í…ŒìŠ¤íŠ¸ ì „ì²´ í†µê³¼ (100%)

#### Unit Tests (9ê°œ)
- `normalizeExtension`: ê³µë°±/ì  ì œê±°, ì†Œë¬¸ì ë³€í™˜
- `validateExtension`: í˜•ì‹/ê¸¸ì´/ê²½ê³„ê°’ ê²€ì¦

#### Integration Tests (18ê°œ)
- ê³ ì • í™•ì¥ì ì¡°íšŒ/ì €ì¥
- ì»¤ìŠ¤í…€ í™•ì¥ì CRUD
- ëŒ€ì†Œë¬¸ì ë¬´ê´€ ì¤‘ë³µ ì²´í¬
- 200ê°œ ì œí•œ ê²€ì¦
- ì—ëŸ¬ í•¸ë“¤ë§

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
cd backend

npm test              # ì „ì²´ í…ŒìŠ¤íŠ¸
npm run test:coverage # ì»¤ë²„ë¦¬ì§€ (85%+)
npm run type-check    # íƒ€ì… ì²´í¬
```

---

## 7. CI/CD

### GitHub Actions

**main ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ ìë™ ì‹¤í–‰:**

- âœ… Backend: Jest í…ŒìŠ¤íŠ¸ 27ê°œ + TypeScript íƒ€ì… ì²´í¬
- âœ… Frontend: í”„ë¡œë•ì…˜ ë¹Œë“œ + TypeScript íƒ€ì… ì²´í¬

### ë°°í¬ í”„ë¡œì„¸ìŠ¤

```
ì½”ë“œ ì‘ì„± â†’ main í‘¸ì‹œ â†’ GitHub Actions í…ŒìŠ¤íŠ¸
    â†“
í…ŒìŠ¤íŠ¸ í†µê³¼ â†’ Vercel/Render ìë™ ë°°í¬ â†’ ë°°í¬ ì™„ë£Œ âœ…
```

**ë°°í¬ í™˜ê²½:**
- Frontend: Vercel (main ë¸Œëœì¹˜ ìë™ ë°°í¬)
- Backend: Render (main ë¸Œëœì¹˜ ìë™ ë°°í¬)
- Database: Supabase (PostgreSQL)

---

## 8. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

<details>
<summary><strong>Prisma 7 Adapter ë§ˆì´ê·¸ë ˆì´ì…˜</strong></summary>

### Problem
Prisma 7ì—ì„œ `@prisma/adapter-pg` í•„ìˆ˜ ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½, Supabase Session mode ì—°ê²° ì‹¤íŒ¨

### Solution
```typescript
import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';

const pool = new Pool({ connectionString: process.env.DATABASE_URL });
const adapter = new PrismaPg(pool);
const prisma = new PrismaClient({ adapter });
```

### Result
âœ… Supabase Session mode ì—°ê²° ì„±ê³µ  
âœ… ì•ˆì •ì ì¸ ì—°ê²° í’€ ê´€ë¦¬

</details>

<details>
<summary><strong>Render ë°°í¬ ì‹œ TypeScript ì»´íŒŒì¼ ì˜¤ë¥˜</strong></summary>

### Problem
í…ŒìŠ¤íŠ¸ íŒŒì¼(`*.test.ts`)ì´ ì»´íŒŒì¼ ëŒ€ìƒì— í¬í•¨ë˜ì–´ ë¹Œë“œ ì‹¤íŒ¨

### Solution
```json
// tsconfig.json
{
  "exclude": [
    "node_modules",
    "**/*.test.ts",
    "**/__tests__/**"
  ]
}
```

### Result
âœ… Render ë¹Œë“œ ì„±ê³µ  
âœ… ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•

</details>

<details>
<summary><strong>ëŒ€ì†Œë¬¸ì ë¬´ê´€ ì¤‘ë³µ ì²´í¬ êµ¬í˜„</strong></summary>

### Problem
`pdf`ì™€ `PDF`ë¥¼ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ì¸ì‹

### Solution
```typescript
export function normalizeExtension(ext: string): string {
  return ext.trim().replace(/^\.+/, '').toLowerCase();
}

// APIì—ì„œ ì •ê·œí™” ì ìš©
const normalizedName = normalizeExtension(name);
const existing = await prisma.customExtension.findFirst({
  where: { userId, name: normalizedName }
});
```

### Result
âœ… `pdf`, `PDF`, `.PDF` ëª¨ë‘ ë™ì¼í•˜ê²Œ ì²˜ë¦¬  
âœ… ë°ì´í„°ë² ì´ìŠ¤ì— í•­ìƒ ì†Œë¬¸ìë¡œ ì €ì¥

</details>

<details>
<summary><strong>Prisma Singleton íŒ¨í„´ ì ìš©</strong></summary>

### Problem
ì—¬ëŸ¬ íŒŒì¼ì—ì„œ `new PrismaClient()`ë¥¼ ê°ê° ìƒì„±í•˜ì—¬ ì—°ê²° í’€ ë‚­ë¹„ ë° í…ŒìŠ¤íŠ¸ ì‹œ ëª¨í‚¹ ì–´ë ¤ì›€

### Solution
**1. Singleton íŒ¨í„´ìœ¼ë¡œ Prisma Client ì¤‘ì•™ ê´€ë¦¬**
```typescript
// backend/src/config/prisma.ts
import { PrismaClient } from '@prisma/client';
import { PrismaPg } from '@prisma/adapter-pg';
import { Pool } from 'pg';
import dotenv from 'dotenv';

dotenv.config();

const pool = new Pool({
  connectionString: process.env.DATABASE_URL,
});
const adapter = new PrismaPg(pool);

const prisma = new PrismaClient({
  adapter,
  log: ['error', 'warn'],
});

export default prisma;
```

**2. ëª¨ë“  ë¼ìš°íŠ¸ì—ì„œ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©**
```typescript
// backend/src/routes/extensions.ts
import prisma from '../config/prisma';

// ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ë™ì¼í•œ prisma ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©
router.get('/fixed', async (req, res) => {
  const extensions = await prisma.fixedExtension.findMany({...});
});
```

**3. í…ŒìŠ¤íŠ¸ì—ì„œ ëª¨í‚¹ ìš©ì´**
```typescript
// backend/src/routes/__tests__/extensions.test.ts
import prisma from '../../config/prisma';

jest.mock('../../config/prisma', () => ({
  __esModule: true,
  default: mockDeep<PrismaClient>(),
}));

const mockedPrisma = prisma as unknown as DeepMockProxy<PrismaClient>;
```

### Result
âœ… ë‹¨ì¼ Prisma Client ì¸ìŠ¤í„´ìŠ¤ë¡œ ì—°ê²° í’€ íš¨ìœ¨ì  ê´€ë¦¬  
âœ… í…ŒìŠ¤íŠ¸ì—ì„œ `jest-mock-extended`ë¡œ ì‰½ê²Œ ëª¨í‚¹ ê°€ëŠ¥  
âœ… ì½”ë“œ ì¤‘ë³µ ì œê±° ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ  
âœ… ì‹¤ì œ DB ì—†ì´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

</details>

---

## 9. í´ë” êµ¬ì¡°

```bash
file-extension-blocker/
â”œâ”€â”€ ğŸ“ frontend/
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/      # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ hooks/           # Custom Hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/        # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“ types/            # TypeScript íƒ€ì…
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/            # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ App.tsx
â”‚   â””â”€â”€ ğŸ“ public/               # ì •ì  íŒŒì¼
â”‚
â”œâ”€â”€ ğŸ“ backend/
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/          # API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/          # Prisma, Swagger
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middleware/      # ì—ëŸ¬ í•¸ë“¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ ğŸ“ utils/           # Validator
â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â””â”€â”€ ğŸ“ prisma/              # Schema & Migrations
â”‚
â””â”€â”€ ğŸ“ .github/workflows/       # CI/CD
```

---

## ğŸ‘¤ ê°œë°œì

**ê¹€ë‹¨ì´**
- Portfolio: [portfolio-danikim.vercel.app](https://portfolio-danikim.vercel.app)
- GitHub: [@danikim8](https://github.com/danikim8)

---

<p align="center">
  Made with ğŸ’œ by Dani Kim
</p>
